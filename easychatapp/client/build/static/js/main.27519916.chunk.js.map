{"version":3,"sources":["components/Chat/index.js","components/FileButton/index.js","components/Input/index.js","components/InfoBar/index.js","components/Message/index.js","components/Messages/index.js","util/FileProcessor.js","components/Join/index.js","util/auth.js","components/Login/index.js","components/Signup/index.js","components/Home/index.js","components/Head/index.js","components/PrivateRoute/index.js","components/AuthButton/index.js","App.js","index.js"],"names":["socket","FileButton","type","onHandleFile","className","id","accept","onChange","e","files","Array","from","target","formData","FormData","append","get","Input","message","setMessage","sendMessage","sendFile","uploadFile","Row","Col","xs","value","event","onKeyPress","key","Button","disabled","size","onClick","React","memo","room","counts","color","to","Message","user","text","upload","address","name","avatarSrc","isSentByCurrentUser","trimmedName","trim","toLowerCase","role","title","src","roundedCircle","dangerouslySetInnerHTML","__html","controls","ReactEmoji","emojify","renderFile","messages","map","index","FileProcessor","file","callback","this","stream","ss","createStream","emit","createBlobReadStream","pipe","config","quality","convertToDataUrl","then","readerData","base64","minifiedDataURL","minifiedBase64","dataURLtoFile","minifiedFile","console","log","Promise","resolve","reader","FileReader","readAsDataURL","onload","result","onloadend","img","Image","resizedHeight","width","height","canvas","document","createElement","ctx","getContext","anw","createAttribute","nodeValue","anh","setAttributeNode","drawImage","toDataURL","arr","split","mime","match","bstr","atob","n","length","u8arr","Uint8Array","charCodeAt","File","Chat","search","useLocation","useState","setName","setRoom","setMessages","setCounts","ENDPOINT","useEffect","qs","parse","io","error","alert","off","on","users","Container","fluid","preventDefault","process","minifiedFileProcessor","send","originalFileProcessor","Join","placeholder","block","auth","isAuthenticated","authenticate","cb","signout","Login","props","redirectToReferrer","setRedirectToReferrer","username","setUsername","password","setPassword","location","state","pathname","Form","Control","Group","controlId","Label","axios","post","response","catch","variant","Signup","email","setEmail","hasSignup","setHasSignup","hasError","setHasError","Text","roles","Toast","onClose","show","autohide","Header","alt","Body","Home","Head","children","PrivateRoute","Component","component","rest","render","AuthButton","withRouter","history","push","App","path","exact","ReactDom","querySelector"],"mappings":"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","file":"static/js/main.27519916.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\nimport qs from 'query-string';\r\nimport io from 'socket.io-client';\r\nimport { Container } from 'react-bootstrap';\r\nimport Input from '../Input';\r\nimport InfoBar from '../InfoBar';\r\nimport Messages from '../Messages';\r\nimport FileProcessor from '../../util/FileProcessor';\r\n\r\nlet socket;\r\n\r\nconst Chat = () => {\r\n  let { search } = useLocation();\r\n  const [name, setName] = useState('');\r\n  const [room, setRoom] = useState('');\r\n  const [message, setMessage] = useState('');\r\n  const [messages, setMessages] = useState([]);\r\n  const [counts, setCounts] = useState(0);\r\n  // const ENDPOINT = 'localhost:5000';\r\n  const proxyurl = 'https://cors-anywhere.herokuapp.com/';\r\n  const ENDPOINT = `${proxyurl}https://dailyeasychat.herokuapp.com`;\r\n\r\n  useEffect(() => {\r\n    const { name, room } = qs.parse(search);\r\n    socket = io(ENDPOINT);\r\n    setName(name);\r\n    setRoom(room);\r\n\r\n    socket.emit('join', { name, room }, (error) => {\r\n      if (error) {\r\n        alert(error);\r\n      }\r\n    });\r\n\r\n    return () => {\r\n      socket.emit('disconnect');\r\n      socket.off();\r\n    };\r\n  }, [ENDPOINT, search]);\r\n\r\n  useEffect(() => {\r\n    // message 包含user, text\r\n    socket.on('message', (message) => {\r\n      setMessages((messages) => [...messages, message]);\r\n    });\r\n    socket.on('file', ({ user, upload, type }) => {\r\n      if (upload) {\r\n        setMessages((messages) => [...messages, { user, upload, type }]);\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    // message 包含user, text\r\n    socket.on('roomData', ({ users }) => {\r\n      setCounts(users.length);\r\n    });\r\n  }, [counts]);\r\n\r\n  const sendMessage = (event) => {\r\n    event.preventDefault();\r\n    if (message) {\r\n      socket.emit('sendMessage', message, () => setMessage(''));\r\n    }\r\n  };\r\n\r\n  const sendFile = (file) => {\r\n    /* build => 非同步promise處裡檔案 */\r\n    FileProcessor.process(file, socket).then((minifiedFileProcessor) => {\r\n      minifiedFileProcessor.send();\r\n    });\r\n  };\r\n\r\n  const uploadFile = (file) => {\r\n    FileProcessor.process(file, socket).then((originalFileProcessor) => {\r\n      originalFileProcessor.upload();\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Container fluid>\r\n      <InfoBar room={room} counts={counts} />\r\n      <Messages messages={messages} name={name} />\r\n      <Input\r\n        message={message}\r\n        setMessage={setMessage}\r\n        sendMessage={sendMessage}\r\n        sendFile={sendFile}\r\n        uploadFile={uploadFile}\r\n      />\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Chat;\r\n","import React from 'react';\r\nimport './index.scss';\r\n\r\n//USER送發訊息的人，name該聊天室使用者名字\r\nconst FileButton = ({ type, onHandleFile }) => {\r\n  // const [files, setFiles] = useState();\r\n  // const [uploading, setUploading] = useState(false);\r\n\r\n  const onChange = e => {\r\n    const files = Array.from(e.target.files);\r\n    // lastModified: 1598938657151\r\n    // lastModifiedDate: Tue Sep 01 2020 13:37:37 GMT+0800 (Taipei Standard Time) {}\r\n    // name: \"sing.mp4\"\r\n    // size: 11620208\r\n    // type: \"video/mp4\"\r\n    // webkitRelativePath: \"\"\r\n\r\n    // lastModified: 1598850723389\r\n    // lastModifiedDate: Mon Aug 31 2020 13:12:03 GMT+0800 (Taipei Standard Time) {}\r\n    // name: \"jessy-smith-6g06Qb4E7QM-unsplash.jpg\"\r\n    // size: 1989187\r\n    // type: \"image/jpeg\"\r\n    // webkitRelativePath: \"\"\r\n    let formData = new FormData();\r\n    formData.append(0, files[0]);\r\n    onHandleFile(formData.get(0));\r\n  };\r\n\r\n  return (\r\n    <div className=\"button\">\r\n      <input\r\n        type=\"file\"\r\n        id=\"single\"\r\n        accept=\"image/*,video/*,audio/*\"\r\n        onChange={onChange}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FileButton;\r\n","import React from 'react';\r\nimport { Row, Col, Button } from 'react-bootstrap';\r\nimport FileButton from '../FileButton';\r\nimport './index.scss';\r\n\r\nconst Input = ({\r\n  message,\r\n  setMessage,\r\n  sendMessage,\r\n  sendFile,\r\n  uploadFile,\r\n}) => (\r\n  <form className=\"chat__form\">\r\n    <Row>\r\n      <Col xs={8}>\r\n        <input\r\n          className=\"chat__input\"\r\n          value={message}\r\n          onChange={event => setMessage(event.target.value)}\r\n          onKeyPress={event =>\r\n            event.key === 'Enter' ? setMessage(event.target.value) : null\r\n          }\r\n        />\r\n      </Col>\r\n      <Col xs={4}>\r\n        <Button\r\n          disabled={!message}\r\n          size=\"sm\"\r\n          onClick={event => sendMessage(event)}\r\n        >\r\n          send\r\n        </Button>\r\n        <FileButton size=\"sm\" type=\"sendFile\" onHandleFile={sendFile}>\r\n          Files\r\n        </FileButton>\r\n        <FileButton size=\"sm\" type=\"upload\" onHandleFile={uploadFile}>\r\n          Files\r\n        </FileButton>\r\n      </Col>\r\n    </Row>\r\n  </form>\r\n);\r\nexport default Input;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Row, Col } from 'react-bootstrap';\r\nimport { ArrowLeftCircle, PeopleFill } from 'react-bootstrap-icons';\r\nimport './index.scss';\r\n\r\nconst InfoBar = ({room, counts}) => (\r\n    <Row className=\"chat__infoBar\">\r\n        <Col xs={7} ><h3>{room}</h3></Col>\r\n        <Col xs={3} >{counts} <PeopleFill color=\"#ffffff\" size={24}/></Col>\r\n        <Col xs={2} >\r\n            <Link to=\"/\">\r\n                <ArrowLeftCircle color=\"white\" size={24} />\r\n            </Link>\r\n        </Col>        \r\n    </Row>\r\n);\r\n\r\nexport default React.memo(InfoBar);","import React from 'react';\r\nimport { Image } from 'react-bootstrap';\r\nimport { PersonCircle } from 'react-bootstrap-icons';\r\nimport ReactEmoji from 'react-emoji';\r\nimport './index.scss';\r\n\r\n//USER送發訊息的人，name該聊天室使用者名字\r\nconst Message = ({\r\n  message: { user, text, upload, type, address },\r\n  name,\r\n  avatarSrc\r\n}) => {\r\n  let isSentByCurrentUser = false;\r\n  const trimmedName = name.trim().toLowerCase();\r\n  if (trimmedName === user) isSentByCurrentUser = true;\r\n  const role = isSentByCurrentUser ? 'user' : 'friend';\r\n  const title = role === 'user' ? trimmedName : user;\r\n  // console.log('葬載', upload);\r\n  // console.log('type', type);\r\n\r\n  const renderFile = (address, type) => {\r\n    if (address) return <div dangerouslySetInnerHTML={{ __html: address }} />;\r\n    if (type) {\r\n      switch (type) {\r\n        case 'video/mp4':\r\n        case 'video/quicktime':\r\n          return (\r\n            <video controls>\r\n              <source\r\n                src={`data:image/png;base64, ${upload}`}\r\n                type=\"video/mp4\"\r\n              />\r\n              <source\r\n                src={`data:image/png;base64, ${upload}`}\r\n                type=\"video/ogg\"\r\n              />\r\n              Your browser does not support the video tag.\r\n            </video>\r\n          );\r\n        case 'image/*':\r\n          return (\r\n            <img\r\n              className=\"img-thumbnail img-fluid\"\r\n              src={`data:image/png;base64, ${upload}`}\r\n            />\r\n          );\r\n        default:\r\n          return (\r\n            <img\r\n              className=\"img-thumbnail img-fluid\"\r\n              src={`data:image/png;base64, ${upload}`}\r\n            />\r\n          );\r\n      }\r\n    }\r\n    return (<p className=\"chat-message__content--text\">{ReactEmoji.emojify(text)}</p>);\r\n  };\r\n  return (\r\n    <div className=\"chat-message__wrapper\">\r\n      <div className={`chat-message__userInfo chat-message__userInfo--${role}`}>\r\n        <span className=\"chat-message__avatar\">\r\n          {avatarSrc ? (\r\n            <Image src={avatarSrc} roundedCircle />\r\n          ) : (\r\n            <PersonCircle size={24} />\r\n          )}\r\n        </span>\r\n        <span>{title}</span>\r\n        <div className={`chat-message__content chat-message__content--${role}`}>\r\n          {renderFile(address, type)}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Message;\r\n","import React from 'react';\r\nimport ScrollToBottom from 'react-scroll-to-bottom';\r\nimport Message from '../Message';\r\nimport './index.scss';\r\n\r\nconst Messages = ({ messages, name }) => (\r\n  <ScrollToBottom className=\"chat__messages\">\r\n    {messages.map((message, index) => {\r\n      return <Message key={`name-${index}`} message={message} name={name} />;\r\n    })}\r\n  </ScrollToBottom>\r\n);\r\n\r\nexport default React.memo(Messages);\r\n","import ss from \"socket.io-stream\";\r\n\r\n/*\r\n  以下縮小檔案\r\n  三個引數\r\n  file：一個是檔案(型別是圖片格式)，\r\n  w：一個是檔案壓縮的後寬度，寬度越小，位元組越小\r\n  objDiv：一個是容器或者回調函式\r\n  photoCompress()\r\n*/\r\n\r\nclass FileProcessor {\r\n  constructor(file, socket, callback) {\r\n    this.socket = socket;\r\n    this.file = file;\r\n    this.name = file.name;\r\n  }\r\n  static process(file, socket) {\r\n    const config = {\r\n      name: file.name,\r\n      quality: 0.6\r\n    };\r\n    return convertToDataUrl(file, config)\r\n    .then(({ readerData, config, callback }) => {\r\n      this.base64 = readerData;\r\n      return minifiedDataURL(readerData, config, callback);\r\n    })\r\n    .then(({ base64, config, callback }) => {\r\n      this.minifiedBase64 = base64;\r\n      return dataURLtoFile(base64, config, callback);\r\n    })\r\n    .then(minifiedFile => {\r\n      this.minifiedFile = minifiedFile;\r\n        return new FileProcessor(this.minifiedFile, socket);\r\n    });\r\n  }\r\n  send() {\r\n    const stream = ss.createStream();\r\n    ss(this.socket).emit(\"sendFile\", stream, {\r\n      name: this.file.name,\r\n      type: this.file.type,\r\n      size: this.file.size\r\n    });\r\n    const blobStream = ss.createBlobReadStream(this.file); //for browser use, 本來寫法是什麼\r\n    let size = 0;\r\n    // blobStream.on('data', function(chunk) {\r\n    //   size += chunk.length;\r\n    //   console.log(Math.floor((size / file.size) * 100) + '%');\r\n    // });\r\n    blobStream.pipe(stream);\r\n  }\r\n  upload() {\r\n    const stream = ss.createStream();\r\n    ss(this.socket).emit(\"uploadFile\", stream, {\r\n      name: this.file.name,\r\n      type: this.file.type,\r\n      size: this.file.size\r\n    });\r\n    const blobStream = ss.createBlobReadStream(this.file); //for browser use, 本來寫法是什麼\r\n    let size = 0;\r\n    // blobStream.on('data', function(chunk) {\r\n    //   size += chunk.length;\r\n    //   console.log(Math.floor((size / file.size) * 100) + '%');\r\n    // });\r\n    blobStream.pipe(stream);\r\n  }\r\n}\r\n\r\nconst convertToDataUrl = (file, config, callback) => {\r\n  console.log(\"開始\", file); //注意必包\r\n  return new Promise(resolve => {\r\n    // 王牌文件 https://kknews.cc/zh-tw/code/e6p2ygq.html\r\n    // 神文 https://codertw.com/%E5%89%8D%E7%AB%AF%E9%96%8B%E7%99%BC/227679/\r\n    /* 使用FileReader對象分三步走： 一 創建FileReader實例 */\r\n    var reader = new FileReader();\r\n    /* 開始讀取指定的Blob物件或File物件中的內容. 當讀取操作完成時,readyState屬性的值會成為DONE,\r\n    如果設定了onloadend事件處理程式,則呼叫之.\r\n    同時,result屬性中將包含一個data: URL格式的字串以表示所讀取檔案的內容.\r\n  */\r\n\r\n    /* 讀取Blob或者File對象的數據內容 */\r\n    reader.readAsDataURL(file); // 讀取文件內容，結果用data:url的字符串形式表示\r\n\r\n    // reader.onloadstart = function() {\r\n    //   console.log('加載已經開始');\r\n    // };\r\n    // reader.onprogress = function(what) {\r\n    //   console.log('啥', what); //注意必包\r\n    // };\r\n    /** 設置回調函數，這裡以讀取成功的回調函數為例： */\r\n    reader.onload = function() {\r\n      const readerData = this.result;\r\n      resolve({ readerData, config, callback });\r\n    };\r\n    reader.onloadend = function() {\r\n      console.log(\"加載已經結束\");\r\n    };\r\n  });\r\n};\r\n\r\nconst minifiedDataURL = (readerData, config, callback) => {\r\n  return new Promise(resolve => {\r\n    let img = new Image();\r\n    img.src = readerData;\r\n    img.onload = () => {\r\n      // var that = this;\r\n      // 預設按比例壓縮\r\n      let width = img.width,\r\n        height = img.height,\r\n        scale = width / height;\r\n      const resizedWidth = 400;\r\n      let resizedHeight = resizedWidth / scale;\r\n      let quality = 0.7; // 預設圖片質量為0.7\r\n      //生成canvas\r\n      // 關鍵字\r\n      let canvas = document.createElement(\"canvas\");\r\n      const ctx = canvas.getContext(\"2d\");\r\n      // 建立屬性節點\r\n      const anw = document.createAttribute(\"width\");\r\n      anw.nodeValue = resizedWidth;\r\n      const anh = document.createAttribute(\"height\");\r\n      anh.nodeValue = resizedHeight;\r\n      canvas.setAttributeNode(anw);\r\n      canvas.setAttributeNode(anh);\r\n      ctx.drawImage(img, 0, 0, resizedWidth, resizedHeight);\r\n      // 影象質量\r\n      if (config.quality && config.quality <= 1 && config.quality > 0) {\r\n        quality = config.quality;\r\n      }\r\n      /*\r\n    我們只需要把<img>獲取到的圖片放到<canvas>裡再通過.toDataURL()方法轉化下，\r\n    就可以得到以 base64 編碼的 dataURL。來看這個方法的語法： \r\n    */\r\n      var base64 = canvas.toDataURL(\"image/jpeg\", \"image/webp\", quality);\r\n      resolve({ base64, config, callback });\r\n      // const resizedFile = dataURLtoFile(base64);\r\n      // console.log('resizedFile', resizedFile);\r\n      // // 回撥函式返回base64的值\r\n      // callback(resizedFile); // 非同步onload只能回用回掉函數\r\n    };\r\n  });\r\n};\r\n\r\nconst dataURLtoFile = (base64, config) => {\r\n  //return dataURLtoFile(base64, config, callback);\r\n\r\n  var arr = base64.split(\",\"),\r\n    mime = arr[0].match(/:(.*?);/)[1],\r\n    bstr = atob(arr[1]),\r\n    n = bstr.length,\r\n    u8arr = new Uint8Array(n);\r\n\r\n  while (n--) {\r\n    u8arr[n] = bstr.charCodeAt(n);\r\n  }\r\n  return new File([u8arr], config.name, { type: mime });\r\n};\r\n\r\nconst emitFileToServer = (socket, file, action) => {\r\n  const stream = ss.createStream();\r\n  console.log(\"file\", file);\r\n  console.log(\"action\", action);\r\n\r\n  if (action === \"send\") {\r\n    ss(socket).emit(\"sendFile\", stream, {\r\n      name: file.name,\r\n      type: file.type,\r\n      size: file.size\r\n    });\r\n  }\r\n  if (action === \"upload\") {\r\n    ss(socket).emit(\"uploadFile\", stream, {\r\n      name: file.name,\r\n      type: file.type,\r\n      size: file.size\r\n    });\r\n  }\r\n  const blobStream = ss.createBlobReadStream(file); //for browser use, 本來寫法是什麼\r\n  let size = 0;\r\n  // blobStream.on('data', function(chunk) {\r\n  //   size += chunk.length;\r\n  //   console.log(Math.floor((size / file.size) * 100) + '%');\r\n  // });\r\n  blobStream.pipe(stream);\r\n};\r\n\r\nexport default FileProcessor;\r\n","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Button, Container } from 'react-bootstrap';\r\nimport './index.scss';\r\n\r\nconst Join = () => {\r\n  const [name, setName] = useState('');\r\n  const [room, setRoom] = useState('');\r\n\r\n  return (\r\n    <Container className=\"join__wrapper\">\r\n      <h1>Join</h1>\r\n      <input\r\n        className=\"chat__input\"\r\n        placeholder=\"name\"\r\n        onChange={e => setName(e.target.value)}\r\n      />\r\n      <input\r\n        className=\"chat__input\"\r\n        placeholder=\"room\"\r\n        onChange={e => setRoom(e.target.value)}\r\n      />\r\n      <Link\r\n        onClick={event => (!name || !room ? event.preventDefault() : null)}\r\n        to={`/chat?name=${name}&room=${room}`}\r\n      >\r\n        <Button block type=\"submit\">\r\n          Join In\r\n        </Button>\r\n      </Link>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Join;\r\n","const auth = {\r\n  isAuthenticated: false,\r\n  authenticate(cb) {\r\n    this.isAuthenticated = true;\r\n    cb();\r\n  },\r\n  signout(cb) {\r\n    this.isAuthenticated = false;\r\n    cb();\r\n  }\r\n};\r\n\r\nexport default auth;\r\n","import React, { useState } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { Form, Button } from 'react-bootstrap';\r\nimport auth from '../../util/auth';\r\nimport axios from 'axios';\r\nimport './index.scss';\r\n\r\nconst Login = (props) => {\r\n  const [redirectToReferrer, setRedirectToReferrer] = useState(false);\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n\r\n  const login = (e) => {\r\n    // auth.authenticate(() => {\r\n    //   setRedirectToReferrer(true);\r\n    // });\r\n    e.preventDefault();\r\n    axios\r\n      // .post('http://localhost:5000/api/auth/signin', {\r\n      .post('https://dailyeasychat.herokuapp.com/api/auth/signin', {\r\n        username,\r\n        password,\r\n      })\r\n      .then((response) => {\r\n        auth.authenticate(() => {\r\n          setRedirectToReferrer(true);\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        console.log('catch', error);\r\n      });\r\n  };\r\n  const { from } = props.location.state || { from: { pathname: '/' } };\r\n  if (redirectToReferrer === true) {\r\n    // return <Redirect to={from} />;\r\n    return <Redirect to=\"join\" />;\r\n  }\r\n  const handleNameChange = (e) => {\r\n    setUsername(e.target.value);\r\n  };\r\n  const handlePasswordChange = (e) => {\r\n    setPassword(e.target.value);\r\n  };\r\n  return (\r\n    <Form>\r\n      <Form.Control\r\n        type=\"text\"\r\n        placeholder=\"Username\"\r\n        onChange={handleNameChange}\r\n      />\r\n      <Form.Group controlId=\"formBasicPassword\">\r\n        <Form.Label>Password</Form.Label>\r\n        <Form.Control\r\n          type=\"password\"\r\n          placeholder=\"Password\"\r\n          onChange={handlePasswordChange}\r\n        />\r\n      </Form.Group>\r\n      <Button onClick={login} variant=\"primary\" type=\"submit\">\r\n        Submit\r\n      </Button>\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import React, { useState } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { Form, Button, Toast } from 'react-bootstrap';\r\nimport axios from 'axios';\r\nimport './index.scss';\r\n\r\nconst Signup = (props) => {\r\n  const [username, setUsername] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [hasSignup, setHasSignup] = useState(false);\r\n  const [hasError, setHasError] = useState(false);\r\n\r\n  const signup = (e) => {\r\n    e.preventDefault();\r\n    const proxyurl = 'https://cors-anywhere.herokuapp.com/';\r\n    // const ENDPOINT = `${proxyurl}https://dailyeasychat.herokuapp.com`;\r\n    axios\r\n      // .post('http://localhost:5000/api/auth/signup', {\r\n      .post(`${proxyurl}https://dailyeasychat.herokuapp.com/api/auth/signup`, {\r\n        username,\r\n        email,\r\n        password,\r\n        roles: ['user'],\r\n      })\r\n      .then((response) => {\r\n        setHasSignup(true);\r\n      })\r\n      .catch((error) => {\r\n        console.log('catch', error);\r\n        setHasError(true);\r\n      });\r\n  };\r\n  const handleNameChange = (e) => {\r\n    setUsername(e.target.value);\r\n  };\r\n  const handleEmailChange = (e) => {\r\n    setEmail(e.target.value);\r\n  };\r\n  const handlePasswordChange = (e) => {\r\n    setPassword(e.target.value);\r\n  };\r\n  if (hasSignup) return <Redirect to=\"login\" />;\r\n  return (\r\n    <>\r\n      <Form>\r\n        <Form.Control\r\n          type=\"text\"\r\n          placeholder=\"Normal text\"\r\n          onChange={handleNameChange}\r\n          value={username}\r\n        />\r\n        <Form.Group controlId=\"formBasicEmail\">\r\n          <Form.Label>Email address</Form.Label>\r\n          <Form.Control\r\n            type=\"email\"\r\n            placeholder=\"Enter email\"\r\n            onChange={handleEmailChange}\r\n            value={email}\r\n          />\r\n          <Form.Text className=\"text-muted\">\r\n            We'll never share your email with anyone else.\r\n          </Form.Text>\r\n        </Form.Group>\r\n        <Form.Group controlId=\"formBasicPassword\">\r\n          <Form.Label>Password</Form.Label>\r\n          <Form.Control\r\n            type=\"password\"\r\n            placeholder=\"Password\"\r\n            onChange={handlePasswordChange}\r\n            value={password}\r\n          />\r\n        </Form.Group>\r\n        <Button onClick={signup} variant=\"primary\" type=\"submit\">\r\n          Sign Up\r\n        </Button>\r\n      </Form>\r\n      <Toast onClose={() => setHasError(false)} show={hasError} autohide>\r\n        <Toast.Header>\r\n          <img src=\"holder.js/20x20?text=%20\" className=\"rounded mr-2\" alt=\"\" />\r\n          <strong className=\"mr-auto\">FAILURE</strong>\r\n          <small>11 mins ago</small>\r\n        </Toast.Header>\r\n        <Toast.Body>Oops, something went wrong !</Toast.Body>\r\n      </Toast>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Signup;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Button } from 'react-bootstrap';\r\nimport { ArrowLeftCircle, PeopleFill } from 'react-bootstrap-icons';\r\nimport './index.scss';\r\n\r\nconst Home = () => (\r\n  <>\r\n    <h1>Welcome to EazyChat</h1>\r\n    <Link to=\"/signup\">Sign up</Link>\r\n    <Link to=\"/login\">Login</Link>\r\n  </>\r\n);\r\n\r\nexport default Home;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Jumbotron } from 'react-bootstrap';\r\nimport { ArrowLeftCircle, PeopleFill } from 'react-bootstrap-icons';\r\nimport './index.scss';\r\n\r\nconst Head = ({ children }) => <>{children}</>;\r\n\r\nexport default Head;\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport auth from '../../util/auth';\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={props =>\r\n      auth.isAuthenticated === true ? (\r\n        <Component {...props} />\r\n      ) : (\r\n        <Redirect\r\n          to={{\r\n            pathname: '/login',\r\n            state: { from: props.location }\r\n          }}\r\n        />\r\n      )\r\n    }\r\n  />\r\n);\r\n\r\nexport default PrivateRoute;\r\n","import React from 'react';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport { Button } from 'react-bootstrap';\r\n// import { ArrowLeftCircle, PeopleFill } from 'react-bootstrap-icons';\r\nimport './index.scss';\r\nimport auth from '../../util/auth';\r\n\r\n/**\r\n * withRouter will pass updated match, location,\r\n * and history props to the wrapped component whenever it renders.\r\n */\r\nconst AuthButton = withRouter(({ history }) =>\r\n  auth.isAuthenticated ? (\r\n    <Button\r\n      onClick={() => {\r\n        auth.signout(() => history.push('/'));\r\n      }}\r\n    >\r\n      Sign out\r\n    </Button>\r\n  ) : (\r\n    <p>You are not logged in.</p>\r\n  )\r\n);\r\n\r\nexport default AuthButton;\r\n","import React from 'react';\r\nimport {\r\n  BrowserRouter as Router,\r\n  Link,\r\n  Route,\r\n  Switch,\r\n  Redirect,\r\n  withRouter\r\n} from 'react-router-dom';\r\nimport {\r\n  Home,\r\n  Head,\r\n  Login,\r\n  Signup,\r\n  AuthButton,\r\n  Join,\r\n  Chat,\r\n  PrivateRoute\r\n} from './components';\r\nimport './index.scss';\r\n\r\nconst App = () => (\r\n  <Router>\r\n    <Head>\r\n      <AuthButton />\r\n    </Head>\r\n    <Switch>\r\n      <Route path=\"/\" exact component={Home} />\r\n      <Route path=\"/Signup\" component={Signup} />\r\n      <Route path=\"/login\" component={Login} />\r\n      <PrivateRoute path=\"/join\" component={Join} />\r\n      <PrivateRoute path=\"/chat\" component={Chat} />\r\n      <Redirect from=\"*\" to=\"/\" />\r\n    </Switch>\r\n  </Router>\r\n);\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDom from 'react-dom';\r\nimport App from './App.js';\r\n\r\nReactDom.render(<App />, document.querySelector('#root'));\r\n"],"sourceRoot":""}